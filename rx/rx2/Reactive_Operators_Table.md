# Reactive 操作符分类（编号表格版 · 详细说明）

说明：  
本文用于系统性理解响应式编程中的常见操作符，适用于 RxJava / RxJS / Reactor / Kotlin Flow 等体系。  
描述以“好理解、好记忆、好查阅”为目标，偏向工程实践而非源码细节。

---

## 2.1 创建类操作符（Creation Operators）

分类说明：  
创建类操作符用于“生成数据流本身”，解决数据从哪里来、什么时候开始、是否结束等问题。  
通常位于一条响应式链路的最前端。

| 序号 | 操作符 | 功能 | 典型场景 |
|----|------|------|----------|
| 1 | just | 将已经存在的一个或多个值直接转换成数据流，并按顺序立即发射 | 将普通变量、常量快速接入响应式链路，用于示例、测试或默认值 |
| 2 | from / fromIterable | 将数组、集合、可迭代对象拆分为一个个元素并依次发射 | 对列表数据做过滤、映射、统计等流式处理 |
| 3 | create | 通过手动方式创建数据流，自行控制何时发射数据、完成或报错 | 封装回调型 API、桥接非响应式接口 |
| 4 | defer | 延迟创建数据流，每次订阅时才真正生成 | 需要在订阅时获取最新时间、配置或状态 |
| 5 | range | 按指定起点和数量生成连续整数序列 | 生成索引、模拟数据、驱动循环任务 |
| 6 | interval | 按固定时间间隔不断发射递增数字 | 心跳检测、定时轮询、周期刷新 |
| 7 | timer | 在延迟一段时间后发射一次数据 | 延迟执行、超时触发、首帧延迟加载 |
| 8 | empty | 不发射任何数据，直接结束 | 条件分支中表示“什么都不做但正常结束” |
| 9 | never | 不发射数据，也永不结束 | 测试、占位，配合取消或超时操作符使用 |
| 10 | error | 不发射数据，直接以错误结束 | 参数校验失败、前置条件不满足时快速失败 |

---

## 2.2 转换类操作符（Transforming Operators）

分类说明：  
转换类操作符用于对数据进行加工，把“原始数据”变成“目标数据”，或改变数据结构形态。

| 序号 | 操作符 | 功能 | 典型场景 |
|----|------|------|----------|
| 1 | map | 将每一个数据项转换成另一个数据项，一进一出 | DTO 转 VO、字段提取、格式化字符串 |
| 2 | flatMap | 将数据项转换为新的数据流，并把多个流合并输出 | 一个事件触发多个异步请求并汇总结果 |
| 3 | concatMap | 将数据项转换为流并按顺序依次执行 | 必须保证顺序的请求或写入操作 |
| 4 | switchMap | 只处理最新的数据流，新的到来会取消旧的 | 搜索联想、输入变化触发请求 |
| 5 | scan | 按顺序累积数据，并在每一步输出当前结果 | 实时计数、状态累加 |
| 6 | buffer | 将一段时间或数量内的数据收集成集合后再发射 | 批量提交、合并上报、削峰 |
| 7 | window | 将数据按规则切分成多个子数据流 | 按时间窗口分别统计、处理 |
| 8 | groupBy | 按 key 对数据分组，每组形成独立的数据流 | 按用户、类型、分类分流处理 |
| 9 | cast / ofType | 将数据转换或筛选为指定类型 | 上游是泛型或混合类型流 |

---

## 2.3 过滤类操作符（Filtering Operators）

分类说明：  
过滤类操作符用于决定“哪些数据可以继续向下游流动”，以及控制数据数量和频率。

| 序号 | 操作符 | 功能 | 典型场景 |
|----|------|------|----------|
| 1 | filter | 按条件判断，满足条件的数据才会被发射 | 剔除空值、无效值 |
| 2 | take | 只取前 N 个数据，其余直接忽略并结束 | 只关心第一个结果 |
| 3 | takeLast | 只保留最后 N 个数据 | 只关心最终状态 |
| 4 | skip | 跳过前 N 个数据 | 忽略初始化阶段的噪声 |
| 5 | skipLast | 跳过最后 N 个数据 | 忽略收尾标记数据 |
| 6 | distinct | 对全部数据进行去重 | 去重 ID、去重请求 |
| 7 | distinctUntilChanged | 仅去掉连续重复数据 | 状态变化监听 |
| 8 | debounce | 在一段时间内只发射最后一次数据 | 输入框防抖 |
| 9 | throttle / sample | 按时间间隔限制发射频率 | 按钮点击限频 |
| 10 | ignoreElements | 忽略所有数据，只关心完成或错误 | 把流当作“任务”使用 |

---

## 2.4 组合类操作符（Combining Operators）

分类说明：  
组合类操作符用于把多条数据流合并、对齐或协作，解决多源数据问题。

| 序号 | 操作符 | 功能 | 典型场景 |
|----|------|------|----------|
| 1 | merge | 并发合并多个数据流，先到先发 | 多种事件源统一处理 |
| 2 | concat | 顺序拼接多个数据流 | 按阶段执行任务 |
| 3 | zip | 多个流按顺序一一配对后发射 | 并行请求结果合并 |
| 4 | combineLatest | 任一流变化就组合最新值 | 表单输入联动 |
| 5 | withLatestFrom | 主流触发时带上其他流最新值 | 点击事件带当前状态 |
| 6 | startWith | 在正式数据前插入初始值 | 默认 UI 状态 |
| 7 | amb | 多个流竞争，选择最快响应的 | 主备接口策略 |

---

## 2.5 条件与布尔类操作符（Conditional / Boolean）

分类说明：  
用于条件判断、空数据处理以及流程控制。

| 序号 | 操作符 | 功能 | 典型场景 |
|----|------|------|----------|
| 1 | all | 判断是否所有数据都满足条件 | 批量校验 |
| 2 | any | 判断是否存在满足条件的数据 | 错误检测 |
| 3 | contains | 判断是否出现过指定值 | 事件是否发生 |
| 4 | isEmpty | 判断流是否没有任何数据 | 搜索结果为空 |
| 5 | defaultIfEmpty | 空流时返回一个默认值 | 空页面兜底 |
| 6 | switchIfEmpty | 空流时切换到另一条流 | 缓存失败走网络 |
| 7 | takeUntil | 接收到停止信号时终止流 | 页面销毁 |
| 8 | skipUntil | 接收到开始信号后才放行 | 初始化完成后处理 |

---

## 2.6 聚合类操作符（Aggregating Operators）

分类说明：  
用于将多个数据汇总成一个结果或一个集合。

| 序号 | 操作符 | 功能 | 典型场景 |
|----|------|------|----------|
| 1 | reduce | 将数据逐步累积成一个最终值 | 求和、汇总 |
| 2 | collect | 将数据收集到容器中 | 批量处理 |
| 3 | count | 统计数据条数 | 统计数量 |
| 4 | toList | 汇总为列表 | 完整数据集 |
| 5 | toMap | 汇总为 Map 结构 | 构建索引 |
| 6 | first | 取第一个数据 | 首次命中 |
| 7 | last | 取最后一个数据 | 最终结果 |
| 8 | single | 要求只有一个数据 | 唯一结果校验 |

---

## 2.7 错误处理类操作符（Error Handling）

分类说明：  
用于处理异常、重试和降级，提升系统健壮性。

| 序号 | 操作符 | 功能 | 典型场景 |
|----|------|------|----------|
| 1 | onErrorReturn | 出错时返回兜底数据 | 默认展示 |
| 2 | onErrorResumeNext | 出错时切换到备用流 | 服务降级 |
| 3 | retry | 出错后重新执行 | 临时网络异常 |
| 4 | retryWhen | 按策略控制是否重试 | 指数退避 |
| 5 | doOnError | 错误时执行副作用 | 日志、告警 |

---

## 2.8 线程与调度类操作符（Schedulers / Threading）

分类说明：  
用于控制代码在哪个线程执行，避免阻塞和卡顿。

| 序号 | 操作符 | 功能 | 典型场景 |
|----|------|------|----------|
| 1 | subscribeOn | 指定数据产生所在线程 | IO、网络请求 |
| 2 | observeOn | 指定数据消费所在线程 | UI 更新 |
| 3 | publishOn | 指定下游调度线程 | Reactor 使用 |
| 4 | unsubscribeOn | 指定取消订阅线程 | 后台释放资源 |
| 5 | delay | 延迟发射数据 | 节奏控制 |
| 6 | timeout | 超时终止流 | 防止卡死 |

---

## 2.9 辅助与调试类操作符（Utility / Debug）

分类说明：  
用于副作用处理、调试、共享和生命周期管理。

| 序号 | 操作符 | 功能 | 典型场景 |
|----|------|------|----------|
| 1 | doOnNext | 数据到来时执行额外逻辑 | 日志、埋点 |
| 2 | doOnSubscribe | 订阅时执行逻辑 | 显示 loading |
| 3 | doOnComplete | 完成时执行逻辑 | 隐藏 loading |
| 4 | doFinally | 流结束时统一处理 | 资源释放 |
| 5 | doOnCancel | 取消订阅时处理 | 页面销毁 |
| 6 | delay | 延迟数据发射 | 模拟慢网 |
| 7 | timeout | 调试超时 | 定位问题 |
| 8 | repeat | 完成后重新执行 | 轮询 |
| 9 | cache / share | 缓存并共享结果 | 多处复用 |

---
